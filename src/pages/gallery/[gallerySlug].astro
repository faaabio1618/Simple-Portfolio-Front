---
import Gallery from "../../components/Gallery.astro";
const {gallerySlug} = Astro.params;
export const prerender = false;
import Layout from '../../layouts/Layout.astro';
import {retrieveGallery, retrieveHeader, retrievePhotographer} from '../../lib/strapi';
const header = await retrieveHeader();
const photographer = await retrievePhotographer();
const gallery_ = await retrieveGallery(gallerySlug);
---

<Layout title="Portfolio" header={header} photographer={photographer}>

    {!gallery_ &&
            <div class="text-center text-2xl font-bold">Gallery not found
                <figure class="relative w-full h-auto break-inside-avoid">
                    <div class="w-full"
                         style={`aspect-ratio: 16 / 9`}>
                        <img
                                src="/assets/gallery_not_found.jpg"
                                alt="Gallery not found"
                                class="w-full h-full object-cover"
                        />
                    </div>
                </figure>
            </div>
    }
    {gallery_ &&
            <Gallery pictures={gallery_.Pictures} style={gallery_.Style}/>}
</Layout>